<!DOCTYPE html>
<html lang="en" xmlns="http://www.w3.org/1999/html">
<head>
    <meta charset="UTF-8">
    <title>Jitter</title>
    <script type="application/javascript" src="molecule.js"></script>
    <style type="text/css">
        html {
            width: 100%;
            height: 100%;
        }

        body {
            width: 100%;
            height: 100%;
        }
    </style>
</head>
<body>

<input id="controller" type="range" min="1" max="3" step="0.1" value="1"
       oninput="distanceChange(this.value)"
       onchange="distanceChange(this.value)"/>

<canvas id="particle"
        style=" width:100%;height:100%;margin: 0 auto;display: block;background-color: antiquewhite"></canvas>

<script type="application/javascript">

    let particle = document.getElementById("particle");
    let width = (document.body.clientWidth * window.devicePixelRatio) / 2;
    let height = (document.body.clientHeight * window.devicePixelRatio) /2;
    particle.setAttribute("width", width + "");
    particle.setAttribute("height", height + "");
    let currentScale = 1;
    let jitter;

    function distanceChange(value) {
        let scale = parseFloat(value) / currentScale;
        jitter.jitterScale(scale);
    }

    window.onload = function () {
        let option = {
            canvasId: "particle",
            speed: 2,
            count: 100,
            particleMinRadius: 3 * window.devicePixelRatio,
            particleMaxRadius: 5 * window.devicePixelRatio,
            vessel: "circle",
            motion: "sport",
            backgroundColor: "#325964",
            radiaGradient: {
                start: "#9a3418",
                stop: "#123232"
            },
            color: "#f98972",
            cx: width >> 1,
            cy: height >> 1,
            x: width/4,
            y: height/4,
            width:  width/2,
            height: height/2,
            radius: Math.min(width, height) >> 2
        };

        jitter = new Jitter(option);
    }


</script>
</body>
</html>
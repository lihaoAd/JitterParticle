<!DOCTYPE html>
<html lang="en" xmlns="http://www.w3.org/1999/html">
<head>
    <meta charset="UTF-8">
    <title>Jitter</title>
    <script type="application/javascript" src="molecule.js"></script>
</head>
<body>

<input id="controller" type="range" min="1" max="3" step="0.1" value="1" oninput="distanceChange(this.value)"
       onchange="distanceChange(this.value)"/>
<div id="jitter-container" style="margin: auto auto;width: 100%;height: 100%;">
    <canvas id="particle" width="500" height="500"
            style="margin: 0 auto;display: block"></canvas>
</div>


<script type="application/javascript">

    let particle = document.getElementById("particle");
    let width = particle.clientWidth;
    let height = particle.clientHeight;
    let currentScale = 1;
    let jitter;

    function distanceChange(value) {
        let scale = parseFloat(value) / currentScale;
        particle.setAttribute("width", width * scale + "");
        particle.setAttribute("height", height * scale + "");
        jitter.jitterScale(scale);
    }

    window.onload = function () {
        let option = {
            canvasId: "particle",
            speed: 4,
            count: 100,
            particleMinRadius: 10,
            particleMaxRadius: 10,
            vessel: "circle",
            motion: "sport",
            backgroundColor: "#325964",
            radiaGradient:{
                start:"#980098",
                stop:"#123232"
            },
            color: "#f98972",
            cx: width >> 1,
            cy: height >> 1,
            x: 0,
            y: 0,
            width: width,
            height: height,
            radius: Math.min(width, height) >> 1,
        };
        jitter = new Jitter(option);
    }
</script>
</body>
</html>